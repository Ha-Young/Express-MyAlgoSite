<%# views/index.ejs %>
<% extend('layout') %>

<% if (!user) { %>
<div class='login-container'>
  <div class='login-btn'>
    <a href='/login'>로그인을 하세요</a>
  </div>
</div>
<% } else { %>
<div>
  <h1 class='title'>leeCode</h1>
</div>
<div class='logout-btn'>
  <a href='/login/logout'>logout</a>
</div>
<% if (user) { %>
<div class='user-email'>
  <div><%= user.email %></div>
</div>
<div class='user-photo'>
  <img src='<%=user.photo %>'>
</div>
<% } %>
<div class='title-description'>
  <h2>Problems</h2>
</div>
<section class='problems'>
  <div class='problems-container'>
    <% for(var i=0; i<problems.length; i++){ %>
    <a href='/problem/<%=problems[i]._id%>'>
      <div class='problem'>
        <h3><%= problems[i].title %></h3>
        <div class='problem-details'>
          <div class='problem-detail'>LEVEL <%= problems[i].difficulty_level %></div>
          <div class='problem-detail'>solution <%= problems[i].solution_count %>개</div>
          <div class='problem-detail'>정답자 <%= problems[i].completed_users %>명</div>
        </div>
      </div>
    </a>
    <% } %>
  </div>
</section>
<% } %>
