<%# views/index.ejs %>
<% extend('layout') %>

<% if (!user) { %>
<div class='login-container'>
  <div class='login-btn'>
    <p>로그인 후 이용 가능합니다:)</p>
    <a href='/login'>로그인 하기</a>
  </div>
</div>
<% } else { %>
<section class='main-container'>
  <div>
    <h1 class='title'>leeCode</h1>
  </div>
  <% if (user) { %>
  <div class=user>
    <div class='user-photo'>
      <img src='<%=user.photo %>'>
    </div>
    <div class='user-email'>
      <div><%= user.email %></div>
    </div>
    <div class='logout-btn'>
      <a href='/login/logout'>logout</a>
    </div>
  </div>
  <% } %>
  <div class='title-description'>
    <h2>Problems</h2>
  </div>
</section>
<section class='problems'>
  <div class='problems-container'>
    <% for(var i=0; i<problems.length; i++){ %>
    <a href='/problem/<%=problems[i]._id%>'>
      <div class='problem'>
        <h3><%= problems[i].title %></h3>
        <div class='problem-details'>
          <div class='problem-detail'>LEVEL <%= problems[i].difficulty_level %></div>
          <div class='problem-detail'>solution <%= problems[i].solution_count %></div>
          <div class='problem-detail'>정답자 <%= problems[i].completed_users %></div>
        </div>
      </div>
    </a>
    <% } %>
  </div>
</section>
<% } %>
