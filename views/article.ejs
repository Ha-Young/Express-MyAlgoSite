<!DOCTYPE html>
<html lang="en">
  <%- include("head") %>
  <body>
    <div class="container">
      <% if(errMessage) { %>
        <div class="alert alert-danger" role="alert">
          <%= errMessage %>
        </div>
      <% } %>
      <div class="jumbotron">
        <h1 class="display-4"><%= data.title %></h1>
        <p class="lead"><%= data.description %></p>
        <hr class="my-4">
        <p><b>Level:</b> <%= data.difficulty_level %> | <b>Solved Users:</b> <%= data.completed_users %></p>
        <hr class="my-4">
        <h3>Examples</h3>
        <% data.examples.forEach(function(example){ %>
          <%- include("components/problem-example.ejs", { example }) %>
        <% }) %>
        <form action="/problems/<%= data._id %>/verify" method="post">
          <% if(userCode) { %>
            <textarea id="code" name="code"><%= userCode%></textarea>
          <% } else { %>
            <textarea id="code" name="code">
function solution(x){
  let result;
  return result;
}</textarea>
          <% } %>
          <div class="button-container">
            <a class="btn btn-link btn-lg" href="/problems" role="button">Back</a>
            <button class="btn btn-primary btn-lg" type="submit">Submit</button>
          </div>
        </form>
      </div>
    </div>
    <script src="/codemirror/lib/codemirror.js"></script>
    <link rel="stylesheet" href="/codemirror/lib/codemirror.css">
    <link rel="stylesheet" href="/codemirror/theme/ayu-dark.css">
    <script src="/codemirror/mode/javascript/javascript.js"></script>
    <script src="/javascripts/code.js"></script>
  </body>
</html>
